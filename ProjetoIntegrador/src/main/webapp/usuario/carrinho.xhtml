<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<ui:decorate xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      template="../template-logado.xhtml"> 
  
	<a href="http://localhost:8082/ProjetoIntegrador/index.xhtml">Voltar</a>
	<h2>Carrinho </h2>
	
	<h:inputHidden value="#{carrinho.idf_Carrinho}" />
	<h:inputHidden value="#{usuarioLogadoController.user.idf_Usuario};" />
		
	
	<h:form id="formCarrinho">
			
		<h:dataTable value="#{homeController.listarCarrinho(carrinho)}" var = "carrinho">
			
			<h:column>
				<f:facet name="header">Quantidade</f:facet>
				#{carrinho.prod_Carrinho.quantidade}
			</h:column>	
			
			<h:column>
				<f:facet name="header">Produto</f:facet>
				#{carrinho.prod_Carrinho.desc_Produto}
			</h:column>		
			
			<h:column>
				<f:facet name="header">Valor Unit√°rio</f:facet>
				#{carrinho.prod_Carrinho.valor_Produto}
			</h:column>		
			
			<h:column>
				<f:facet name="header">Sub Total</f:facet>
				#{carrinho.sub_Total}
			</h:column>	
				
			<h:column>
				<f:facet name="header">A</f:facet>
				<h:commandButton 
					action="#{homeController.apagarItemCarrinho(carrinho)}" 
					value="Apagar"/>
			</h:column>
			
		</h:dataTable>
		
		<h:dataTable value="#{homeController.listarCarrinhoTotal(carrinho)}" var = "carrinho">
			
			<h:column>
				#{carrinho.total_Itens}  Itens              Total                   #{carrinho.total_Carrinho}    
				<br/>
				<h:commandButton 
				action="#{pedidoController.inserirPedido(carrinho, usuarioLogadoController)}" 
				value="Finalizar Compra"/>	      
			</h:column>	


		</h:dataTable>
		
	</h:form>
	
</ui:decorate> 